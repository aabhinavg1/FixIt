[build]
  base = "/opt/build/repo"
  command = "npm run build"
  publish = "/opt/build/repo/build"

[functions]
  directory = "/opt/build/repo/netlify/functions"

[context.production.environment]
  FAUNADB_SECRET = "${FAUNADB_SECRET}"
  NETLIFY_EMAILS_DIRECTORY = "${NETLIFY_EMAILS_DIRECTORY}"
  NETLIFY_EMAILS_MAILGUN_DOMAIN = "${NETLIFY_EMAILS_MAILGUN_DOMAIN}"
  NETLIFY_EMAILS_MAILGUN_HOST_REGION = "${NETLIFY_EMAILS_MAILGUN_HOST_REGION}"
  NETLIFY_EMAILS_PROVIDER = "${NETLIFY_EMAILS_PROVIDER}"
  NETLIFY_EMAILS_PROVIDER_API_KEY = "${NETLIFY_EMAILS_PROVIDER_API_KEY}"
  NETLIFY_EMAILS_SECRET = "${NETLIFY_EMAILS_SECRET}"
  PAT_TOKEN = "${PAT_TOKEN}"  # Referencing the PAT token stored securely in Netlify environment variables
  NODE_OPTIONS = "${NODE_OPTIONS}"

[context.deploy-preview.environment]
  FAUNADB_SECRET = "${FAUNADB_SECRET}"
  NETLIFY_EMAILS_DIRECTORY = "${NETLIFY_EMAILS_DIRECTORY}"
  NETLIFY_EMAILS_MAILGUN_DOMAIN = "${NETLIFY_EMAILS_MAILGUN_DOMAIN}"
  NETLIFY_EMAILS_MAILGUN_HOST_REGION = "${NETLIFY_EMAILS_MAILGUN_HOST_REGION}"
  NETLIFY_EMAILS_PROVIDER = "${NETLIFY_EMAILS_PROVIDER}"
  NETLIFY_EMAILS_PROVIDER_API_KEY = "${NETLIFY_EMAILS_PROVIDER_API_KEY}"
  NETLIFY_EMAILS_SECRET = "${NETLIFY_EMAILS_SECRET}"
  PAT_TOKEN = "${PAT_TOKEN}"
  NODE_OPTIONS = "${NODE_OPTIONS}"

[[headers]]
  for = "/*"
  [headers.values]
    X-Robots-Tag = "all"
